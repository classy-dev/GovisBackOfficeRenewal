"use strict";(self.webpackChunkgovis_renewal=self.webpackChunkgovis_renewal||[]).push([[1984],{"./component/modules/DateRange/DateRange.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>DateRange_stories,reactHookForm:()=>reactHookForm});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),ko=__webpack_require__("./node_modules/date-fns/esm/locale/ko/index.js"),react_datepicker_min=__webpack_require__("./node_modules/react-datepicker/dist/react-datepicker.min.js"),react_datepicker_min_default=__webpack_require__.n(react_datepicker_min),fi_index_esm=(__webpack_require__("./node_modules/react-datepicker/dist/react-datepicker.css"),__webpack_require__("./node_modules/react-icons/fi/index.esm.js")),Button=__webpack_require__("./component/atom/Button/Button.tsx"),IcoInput=__webpack_require__("./component/atom/IcoInput/IcoInput.tsx"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");const DateRange_DateRange=function DateRangePicker(_ref){var onDateRangeChange=_ref.onDateRangeChange,_ref$initialDateRange=_ref.initialDateRange,initialDateRange=void 0===_ref$initialDateRange?[null,null]:_ref$initialDateRange,_useState=(0,react.useState)(initialDateRange),_useState2=(0,slicedToArray.Z)(_useState,2),dateRange=_useState2[0],setDateRange=_useState2[1],_useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.Z)(_useState3,2),startDateInput=_useState4[0],setStartDateInput=_useState4[1],_useState5=(0,react.useState)(""),_useState6=(0,slicedToArray.Z)(_useState5,2),endDateInput=_useState6[0],setEndDateInput=_useState6[1],_useState7=(0,react.useState)(!1),_useState8=(0,slicedToArray.Z)(_useState7,2),open=_useState8[0],setOpen=_useState8[1],_useState9=(0,react.useState)(!1),_useState10=(0,slicedToArray.Z)(_useState9,2),isResetVisible=_useState10[0],setIsResetVisible=_useState10[1],refEndDate=(0,react.useRef)(null),ref=(0,react.useRef)(null),validateDate=function validateDate(dateStr){if(!/^\d{4}-\d{2}-\d{2}$/.test(dateStr))return!1;var _dateStr$split$map=dateStr.split("-").map(Number),_dateStr$split$map2=(0,slicedToArray.Z)(_dateStr$split$map,3),year=_dateStr$split$map2[0],month=_dateStr$split$map2[1],day=_dateStr$split$map2[2];if(year<2e3)return!1;var date=new Date(year,month-1,day);return date.getFullYear()===year&&date.getMonth()===month-1&&date.getDate()===day},handleFocus=function handleFocus(){setOpen(!0),setIsResetVisible(!0)},onClickOutside=function onClickOutside(event){ref.current&&!ref.current.contains(event.target)&&(setOpen(!1),setIsResetVisible(!1))};return(0,react.useEffect)((function(){return document.addEventListener("mousedown",onClickOutside),function(){document.removeEventListener("mousedown",onClickOutside)}}),[]),(0,emotion_react_browser_esm.tZ)("div",{ref,className:"wrap_datepicker"},(0,emotion_react_browser_esm.tZ)("div",{style:{width:"200px"}},(0,emotion_react_browser_esm.tZ)(IcoInput.$,{type:"text",value:startDateInput&&endDateInput?"".concat(startDateInput," - ").concat(endDateInput):"",placeholder:"Select a date range",onClick:function onClick(){return setOpen(!open)},TrailingIcon:(0,emotion_react_browser_esm.tZ)(fi_index_esm.vlc,null),readOnly:!0}),(0,emotion_react_browser_esm.tZ)("div",null,(0,emotion_react_browser_esm.tZ)("input",{type:"text",id:"startDate",placeholder:"시작일",value:startDateInput,onChange:function handleStartDateChange(e){var dateStr=e.target.value;if(setStartDateInput(dateStr),validateDate(dateStr)){var date=new Date(dateStr);setDateRange((function(prev){var update=[date,prev[1]];return onDateRangeChange(update),update}))}},onKeyDown:function handleStartDateKeyDown(e){var _refEndDate$current;"Enter"===e.key&&validateDate(startDateInput)&&(null===(_refEndDate$current=refEndDate.current)||void 0===_refEndDate$current||_refEndDate$current.focus())},onFocus:handleFocus}),(0,emotion_react_browser_esm.tZ)("input",{type:"text",id:"endDate",placeholder:"종료일",value:endDateInput,onChange:function handleEndDateChange(e){var dateStr=e.target.value;if(setEndDateInput(dateStr),validateDate(dateStr)){var date=new Date(dateStr);if(dateRange[0]&&date<dateRange[0])return;setDateRange((function(prev){var update=[prev[0],date];return onDateRangeChange(update),update}))}},onKeyDown:function handleEndDateKeyDown(e){var _refEndDate$current2;"Enter"===e.key&&validateDate(endDateInput)&&(setOpen(!1),null===(_refEndDate$current2=refEndDate.current)||void 0===_refEndDate$current2||_refEndDate$current2.blur())},onFocus:handleFocus,disabled:!validateDate(startDateInput),ref:refEndDate}),!!startDateInput&&!!endDateInput&&isResetVisible&&(0,emotion_react_browser_esm.tZ)(Button.z,{type:"button",variant:"primary",onClick:function handleResetClick(){setDateRange([null,null]),setStartDateInput(""),setEndDateInput(""),setIsResetVisible(!1),onDateRangeChange([null,null]),setOpen(!1)}},"리셋"))),open&&(0,emotion_react_browser_esm.tZ)(react_datepicker_min_default(),{selected:dateRange[0],startDate:dateRange[0],endDate:dateRange[1],minDate:dateRange[0],onChange:function onChange(update){setDateRange(update),update[0]&&setStartDateInput(update[0].toISOString().split("T")[0]),update[1]&&(setEndDateInput(update[1].toISOString().split("T")[0]),setOpen(!1)),onDateRangeChange(update)},selectsRange:!0,inline:!0,monthsShown:2,locale:ko.Z}))};try{DateRange.displayName="DateRange",DateRange.__docgenInfo={description:"",displayName:"DateRange",props:{onDateRangeChange:{defaultValue:null,description:"",name:"onDateRangeChange",required:!0,type:{name:"(update: DateRange) => void"}},initialDateRange:{defaultValue:{value:"[null, null]"},description:"",name:"initialDateRange",required:!1,type:{name:"DateRange"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["component/modules/DateRange/DateRange.tsx#DateRange"]={docgenInfo:DateRange.__docgenInfo,name:"DateRange",path:"component/modules/DateRange/DateRange.tsx#DateRange"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$,_reactHookForm$parame,_reactHookForm$parame2,_reactHookForm$parame3,console=__webpack_require__("./node_modules/console-browserify/index.js");const DateRange_stories={title:"MODULES/DateRange",tags:["autodocs"],args:{TotalProps:{props:"selectedDate, onChange, dateFormat, minDate, maxDate, placeholderText, showYearDropdown,\n      showMonthDropdown"},propsDesc:{selectedDate:"초기에 설정된 날짜값",onChange:"날짜가 변경될 때마다 발동하는 함수",dateFormat:"날짜 형식, yyyy/MM/dd, MM/dd/yyyy 등",minDateMaxDate:"사용자가 선택할 수 있는 날짜의 최소값과 최대값",placeholderText:"날짜를 선택하기 전에 표시되는 placeholder 텍스트를 설정",showYearDropdown:"년/월을 드롭다운으로 선택할 수 있는 옵션을 제공"}},parameters:{storySource:{source:"import _objectSpread from \"/Users/yun-eunseog/workspace/govis-renewal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/yun-eunseog/workspace/govis-renewal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _Default$parameters, _Default$parameters2, _Default$parameters2$, _reactHookForm$parame, _reactHookForm$parame2, _reactHookForm$parame3;\nimport React, { useState } from 'react';\nimport { useForm, Controller } from 'react-hook-form';\nimport DateRangePicker from './DateRange';\nimport { jsx as ___EmotionJSX } from \"@emotion/react\";\nvar meta = {\n  title: 'MODULES/DateRange',\n  tags: ['autodocs'],\n  args: {\n    TotalProps: {\n      props: \"selectedDate, onChange, dateFormat, minDate, maxDate, placeholderText, showYearDropdown,\\n      showMonthDropdown\"\n    },\n    propsDesc: {\n      selectedDate: '초기에 설정된 날짜값',\n      onChange: '날짜가 변경될 때마다 발동하는 함수',\n      dateFormat: '날짜 형식, yyyy/MM/dd, MM/dd/yyyy 등',\n      minDateMaxDate: '사용자가 선택할 수 있는 날짜의 최소값과 최대값',\n      placeholderText: '날짜를 선택하기 전에 표시되는 placeholder 텍스트를 설정',\n      showYearDropdown: '년/월을 드롭다운으로 선택할 수 있는 옵션을 제공'\n    }\n  },\n  parameters: {\n    docs: {\n      story: {\n        inline: true\n      },\n      // render the story in an iframe\n      canvas: {\n        sourceState: 'shown'\n      },\n      // start with the source open\n      source: {\n        type: 'code'\n      } // forces the raw source code (rather than the rendered JSX).\n    }\n  }\n};\n\nexport default meta;\nvar StoryDateRanger = function StoryDateRanger() {\n  var _selectedDateRange$, _selectedDateRange$2;\n  var _useState = useState([null, null]),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedDateRange = _useState2[0],\n    setSelectedDateRange = _useState2[1];\n  var handleDateRangeChange = function handleDateRangeChange(update) {\n    setSelectedDateRange(update);\n  };\n  return ___EmotionJSX(React.Fragment, null, ___EmotionJSX(DateRangePicker, {\n    onDateRangeChange: handleDateRangeChange\n  }), ___EmotionJSX(\"p\", null, \"Selected range: \", (_selectedDateRange$ = selectedDateRange[0]) === null || _selectedDateRange$ === void 0 ? void 0 : _selectedDateRange$.toLocaleDateString(), \" -\", ' ', (_selectedDateRange$2 = selectedDateRange[1]) === null || _selectedDateRange$2 === void 0 ? void 0 : _selectedDateRange$2.toLocaleDateString()));\n};\nexport var Default = StoryDateRanger.bind({});\nvar StoryDateRanger2 = function StoryDateRanger2() {\n  var _useForm = useForm(),\n    handleSubmit = _useForm.handleSubmit,\n    control = _useForm.control;\n  var onSubmit = function onSubmit(data) {\n    console.log(data);\n  };\n  return ___EmotionJSX(\"form\", {\n    onSubmit: handleSubmit(onSubmit)\n  }, ___EmotionJSX(Controller, {\n    name: \"dateRange\",\n    control: control,\n    defaultValue: [null, null],\n    render: function render(_ref) {\n      var _ref$field = _ref.field,\n        onChange = _ref$field.onChange,\n        value = _ref$field.value;\n      return ___EmotionJSX(DateRangePicker, {\n        onDateRangeChange: onChange,\n        initialDateRange: value\n      });\n    }\n  }), ___EmotionJSX(\"input\", {\n    type: \"submit\"\n  }));\n};\nexport var reactHookForm = StoryDateRanger2.bind({});\nDefault.parameters = _objectSpread(_objectSpread({}, Default.parameters), {}, {\n  docs: _objectSpread(_objectSpread({}, (_Default$parameters = Default.parameters) === null || _Default$parameters === void 0 ? void 0 : _Default$parameters.docs), {}, {\n    source: _objectSpread({\n      originalSource: \"() => {\\n  const [selectedDateRange, setSelectedDateRange] = useState<DateRange>([null, null]);\\n  const handleDateRangeChange = (update: DateRange) => {\\n    setSelectedDateRange(update);\\n  };\\n  return <>\\n      <DateRangePicker onDateRangeChange={handleDateRangeChange} />\\n      <p>\\n        Selected range: {selectedDateRange[0]?.toLocaleDateString()} -{' '}\\n        {selectedDateRange[1]?.toLocaleDateString()}\\n      </p>\\n    </>;\\n}\"\n    }, (_Default$parameters2 = Default.parameters) === null || _Default$parameters2 === void 0 ? void 0 : (_Default$parameters2$ = _Default$parameters2.docs) === null || _Default$parameters2$ === void 0 ? void 0 : _Default$parameters2$.source)\n  })\n});\nreactHookForm.parameters = _objectSpread(_objectSpread({}, reactHookForm.parameters), {}, {\n  docs: _objectSpread(_objectSpread({}, (_reactHookForm$parame = reactHookForm.parameters) === null || _reactHookForm$parame === void 0 ? void 0 : _reactHookForm$parame.docs), {}, {\n    source: _objectSpread({\n      originalSource: \"() => {\\n  const {\\n    handleSubmit,\\n    control\\n  } = useForm<FormInputs>();\\n  const onSubmit = (data: FormInputs) => {\\n    console.log(data);\\n  };\\n  return <form onSubmit={handleSubmit(onSubmit)}>\\n      <Controller name=\\\"dateRange\\\" control={control} defaultValue={[null, null]} render={({\\n      field: {\\n        onChange,\\n        value\\n      }\\n    }) => <DateRangePicker onDateRangeChange={onChange} initialDateRange={value} />} />\\n      <input type=\\\"submit\\\" />\\n    </form>;\\n}\"\n    }, (_reactHookForm$parame2 = reactHookForm.parameters) === null || _reactHookForm$parame2 === void 0 ? void 0 : (_reactHookForm$parame3 = _reactHookForm$parame2.docs) === null || _reactHookForm$parame3 === void 0 ? void 0 : _reactHookForm$parame3.source)\n  })\n});",locationsMap:{default:{startLoc:{col:22,line:42},endLoc:{col:1,line:54},startBody:{col:22,line:42},endBody:{col:1,line:54}},"react-hook-form":{startLoc:{col:23,line:56},endLoc:{col:1,line:81},startBody:{col:23,line:56},endBody:{col:1,line:81}}}},docs:{story:{inline:!0},canvas:{sourceState:"shown"},source:{type:"code"}}}};var Default=function StoryDateRanger(){var _selectedDateRange$,_selectedDateRange$2,_useState=(0,react.useState)([null,null]),_useState2=(0,slicedToArray.Z)(_useState,2),selectedDateRange=_useState2[0],setSelectedDateRange=_useState2[1];return(0,emotion_react_browser_esm.tZ)(react.Fragment,null,(0,emotion_react_browser_esm.tZ)(DateRange_DateRange,{onDateRangeChange:function handleDateRangeChange(update){setSelectedDateRange(update)}}),(0,emotion_react_browser_esm.tZ)("p",null,"Selected range: ",null===(_selectedDateRange$=selectedDateRange[0])||void 0===_selectedDateRange$?void 0:_selectedDateRange$.toLocaleDateString()," -"," ",null===(_selectedDateRange$2=selectedDateRange[1])||void 0===_selectedDateRange$2?void 0:_selectedDateRange$2.toLocaleDateString()))}.bind({}),reactHookForm=function StoryDateRanger2(){var _useForm=(0,index_esm.cI)(),handleSubmit=_useForm.handleSubmit,control=_useForm.control;return(0,emotion_react_browser_esm.tZ)("form",{onSubmit:handleSubmit((function onSubmit(data){console.log(data)}))},(0,emotion_react_browser_esm.tZ)(index_esm.Qr,{name:"dateRange",control,defaultValue:[null,null],render:function render(_ref){var _ref$field=_ref.field,onChange=_ref$field.onChange,value=_ref$field.value;return(0,emotion_react_browser_esm.tZ)(DateRange_DateRange,{onDateRangeChange:onChange,initialDateRange:value})}}),(0,emotion_react_browser_esm.tZ)("input",{type:"submit"}))}.bind({});Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"() => {\n  const [selectedDateRange, setSelectedDateRange] = useState<DateRange>([null, null]);\n  const handleDateRangeChange = (update: DateRange) => {\n    setSelectedDateRange(update);\n  };\n  return <>\n      <DateRangePicker onDateRangeChange={handleDateRangeChange} />\n      <p>\n        Selected range: {selectedDateRange[0]?.toLocaleDateString()} -{' '}\n        {selectedDateRange[1]?.toLocaleDateString()}\n      </p>\n    </>;\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})}),reactHookForm.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},reactHookForm.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_reactHookForm$parame=reactHookForm.parameters)||void 0===_reactHookForm$parame?void 0:_reactHookForm$parame.docs),{},{source:(0,objectSpread2.Z)({originalSource:'() => {\n  const {\n    handleSubmit,\n    control\n  } = useForm<FormInputs>();\n  const onSubmit = (data: FormInputs) => {\n    console.log(data);\n  };\n  return <form onSubmit={handleSubmit(onSubmit)}>\n      <Controller name="dateRange" control={control} defaultValue={[null, null]} render={({\n      field: {\n        onChange,\n        value\n      }\n    }) => <DateRangePicker onDateRangeChange={onChange} initialDateRange={value} />} />\n      <input type="submit" />\n    </form>;\n}'},null===(_reactHookForm$parame2=reactHookForm.parameters)||void 0===_reactHookForm$parame2||null===(_reactHookForm$parame3=_reactHookForm$parame2.docs)||void 0===_reactHookForm$parame3?void 0:_reactHookForm$parame3.source)})})}}]);