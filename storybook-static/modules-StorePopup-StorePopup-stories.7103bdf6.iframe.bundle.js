(self.webpackChunkgovis_renewal=self.webpackChunkgovis_renewal||[]).push([[8551],{"./component/modules/StorePopup/StorePopup.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>StorePopup_stories});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),es=__webpack_require__("./node_modules/react-query/es/index.js"),regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),axios=__webpack_require__("./node_modules/axios/lib/axios.js"),store=__webpack_require__("./src/mobx/store.ts"),getBaseUrl=function getBaseUrl(){var _host,_host2,reVal,host;reVal="https://dev.api.gopizza.kr","undefined"!=typeof window&&(host=window.location.host);var hostSplit=null===(_host=host)||void 0===_host?void 0:_host.split(".");return(hostSplit&&"dev"===hostSplit[0]||null!==(_host2=host)&&void 0!==_host2&&_host2.includes("vercel")||hostSplit&&"192"===hostSplit[0]||hostSplit&&hostSplit[0].indexOf("localhost")>=0||hostSplit&&"local"===hostSplit[0])&&(reVal="https://dev.api.gopizza.kr"),reVal},ApiRequest=axios.Z.create({baseURL:"".concat(getBaseUrl(),"/runway/v2")}),api_BoRequest=axios.Z.create({baseURL:"".concat(getBaseUrl(),"/bo/v1/")}),BoV2Request=axios.Z.create({baseURL:"".concat(getBaseUrl(),"/bo/v2")}),CommonRequest=axios.Z.create({baseURL:"".concat(getBaseUrl(),"/com/v2/")}),FqsToolsRequest=axios.Z.create({baseURL:function getToolBaseUrl(){var _host3,host,reVal="http://tools.gopizza.kr";"undefined"!=typeof window&&(host=window.location.host);var hostSplit=null===(_host3=host)||void 0===_host3?void 0:_host3.split(".");return hostSplit&&"dev"===hostSplit[0]?reVal="https://tools.gopizza.kr":(hostSplit&&"192"===hostSplit[0]||hostSplit&&hostSplit[0].indexOf("localhost")>=0||hostSplit&&"local"===hostSplit[0])&&(reVal="http://dev.tools.gopizza.kr"),reVal}()}),FqsApiRequest=axios.Z.create({baseURL:getBaseUrl()}),handleRequestFullfilled=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(request){return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return store.Mz.isLoggedIn||store.Mz.init(),store.Mz.token&&(request.headers=(0,objectSpread2.Z)({"GO-AUTH":"".concat(String(store.Mz.token))},request.headers)),_context.abrupt("return",request);case 3:case"end":return _context.stop()}}),_callee)})));return function handleRequestFullfilled(_x){return _ref.apply(this,arguments)}}(),handleRequestReject=function handleRequestReject(e){return Promise.reject(e)},handleResponseFullfilled=function handleResponseFullfilled(response){var _response$data;if(response.data.code&&"0000"!==response.data.code)throw{code:null==response||null===(_response$data=response.data)||void 0===_response$data?void 0:_response$data.code,message:response.data.message,response};return response},handleResponseReject=function handleResponseReject(error){return error.response&&"Signature has expired."===error.response.data.message?(alert("로그인 시간이 만료되었습니다. 다시 로그인 해주세요"),localStorage.clear(),void(window.location.href="/")):Promise.reject(error)},registerInterceptors=function registerInterceptors(instance){instance.interceptors.request.use(handleRequestFullfilled,handleRequestReject),instance.interceptors.response.use(handleResponseFullfilled,handleResponseReject)};registerInterceptors(ApiRequest),registerInterceptors(api_BoRequest),registerInterceptors(BoV2Request),registerInterceptors(CommonRequest),registerInterceptors(FqsApiRequest),registerInterceptors(FqsToolsRequest);var fetchFindAllStore=function(){var _ref2=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee2(){var params,response,_args2=arguments;return(0,regeneratorRuntime.Z)().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return params=_args2.length>0&&void 0!==_args2[0]?_args2[0]:{},_context2.next=3,api_BoRequest.get("/stores",{params});case 3:return response=_context2.sent,_context2.abrupt("return",response.data.data);case 5:case"end":return _context2.stop()}}),_callee2)})));return function fetchFindAllStore(){return _ref2.apply(this,arguments)}}(),fetchUser=function(){var _ref8=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee8(id){var result;return(0,regeneratorRuntime.Z)().wrap((function _callee8$(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,api_BoRequest.get("/user/".concat(id));case 2:return result=_context8.sent,_context8.abrupt("return",result.data.data);case 4:case"end":return _context8.stop()}}),_callee8)})));return function fetchUser(_x5){return _ref8.apply(this,arguments)}}(),StoryLayout=__webpack_require__("./component/modules/story_layout/StoryLayout.tsx"),Button=__webpack_require__("./component/atom/Button/Button.tsx"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),StoreList=function StoreList(_ref){var listStore=_ref.listStore,setListStore=_ref.setListStore;return(0,emotion_react_browser_esm.tZ)("ul",{style:{marginTop:"100px"}},listStore.map((function(el){return(0,emotion_react_browser_esm.tZ)("span",{key:el.id,style:{marginRight:"100px"}},el.name,(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){return function handleRemove(id){setListStore(listStore.filter((function(store){return store.id!==id})))}(el.id)}},"제거"))})))};const StorePopup_StoreList=StoreList;try{StoreList.displayName="StoreList",StoreList.__docgenInfo={description:"",displayName:"StoreList",props:{listStore:{defaultValue:null,description:"",name:"listStore",required:!0,type:{name:"{ id: number; name: string; }[]"}},setListStore:{defaultValue:null,description:"",name:"setListStore",required:!0,type:{name:"Dispatch<SetStateAction<{ id: number; name: string; }[]>>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["component/modules/StorePopup/StoreList.tsx#StoreList"]={docgenInfo:StoreList.__docgenInfo,name:"StoreList",path:"component/modules/StorePopup/StoreList.tsx#StoreList"})}catch(__react_docgen_typescript_loader_error){}var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),dayjs_min=__webpack_require__("./node_modules/dayjs/dayjs.min.js"),dayjs_min_default=__webpack_require__.n(dayjs_min),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),StoreType={XGO:"XGOPIZZA",FRANCHISEE:"가맹점",CORPORATION:"직영점",DIRECT:"직영점",TEST:"테스트매장"},StoreStatus={OPEN:"운영중",PLANNED:"운영예정"};var StorePopupWrap=(0,__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("div",{target:"e19savw0"})({name:"9vj3se",styles:"h2{margin:10px 0 20px;font-size:20px;text-align:center;}table{display:block;overflow-y:auto;max-height:500px;}"}),Modal=__webpack_require__("./component/modules/Modal/Modal.tsx"),StorePopup=function StorePopup(_ref){var listStore=_ref.listStore,setListStore=_ref.setListStore,_ref$status=_ref.status,status=void 0===_ref$status?"OPEN,PLANNED":_ref$status,singleSelect=_ref.singleSelect,isOpen=_ref.isOpen,_onClose=_ref.onClose,data=(0,es.useQuery)(["store-list",status],(function(){return fetchFindAllStore({status})}),{enabled:isOpen}).data,_useState=(0,react.useState)([]),_useState2=(0,slicedToArray.Z)(_useState,2),selectStore=_useState2[0],setSelectStore=_useState2[1];(0,react.useEffect)((function(){setSelectStore(listStore)}),[listStore]);var _useState3=(0,react.useState)(""),_useState4=(0,slicedToArray.Z)(_useState3,2),searchText=_useState4[0],setSearchText=_useState4[1],_useState5=(0,react.useState)({order:"asc",key:"name"}),_useState6=(0,slicedToArray.Z)(_useState5,2),sortState=_useState6[0],setSortState=_useState6[1],handleSort=function handleSort(key){key===sortState.key?setSortState((0,objectSpread2.Z)((0,objectSpread2.Z)({},sortState),{},{order:"asc"===sortState.order?"desc":"asc"})):setSortState({key,order:"asc"})},filteredData=(0,react.useMemo)((function(){var filtered=(null==data?void 0:data.filter((function(store){return store.name.includes(searchText)})))||[];return"open_date"===sortState.key?(0,lodash.orderBy)(filtered,[function(store){var _store$openDurations$;return dayjs_min_default()(null===(_store$openDurations$=store.openDurations[0])||void 0===_store$openDurations$?void 0:_store$openDurations$.open_date).toDate()}],[sortState.order]):filtered.sort((function(a,b){return"asc"===sortState.order?String(a[sortState.key]).localeCompare(String(b[sortState.key])):String(b[sortState.key]).localeCompare(String(a[sortState.key]))}))}),[data,searchText,sortState.key,sortState.order]);return(0,emotion_react_browser_esm.tZ)(Modal.Z,{isOpen,onClose:function onClose(){_onClose(),setSelectStore(listStore)}},(0,emotion_react_browser_esm.tZ)(StorePopupWrap,null,(0,emotion_react_browser_esm.tZ)("h2",null,"매장 선택"),(0,emotion_react_browser_esm.tZ)("input",{type:"text",value:searchText,onChange:function handleSearchChange(e){setSearchText(e.target.value)},placeholder:"매장명 검색..."}),filteredData&&(0,emotion_react_browser_esm.tZ)("table",null,(0,emotion_react_browser_esm.tZ)("thead",null,(0,emotion_react_browser_esm.tZ)("tr",null,(0,emotion_react_browser_esm.tZ)("th",null,!singleSelect&&(0,emotion_react_browser_esm.tZ)("input",{type:"checkbox",name:"select-all",onChange:function onChange(e){return function handleStoreAllCheck(checked){if(checked){var stores=filteredData.map((function(store){return{id:store.id,name:store.name}}));setSelectStore(stores)}else setSelectStore([])}(e.target.checked)},checked:selectStore.length===filteredData.length})),(0,emotion_react_browser_esm.tZ)("th",null,"매장명",(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){return handleSort("name")}},"sort")),(0,emotion_react_browser_esm.tZ)("th",null,"구분",(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){return handleSort("type")}},"sort")),(0,emotion_react_browser_esm.tZ)("th",null,"상태",(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){return handleSort("status")}},"sort")),(0,emotion_react_browser_esm.tZ)("th",null,"상권",(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){return handleSort("area_zone")}},"sort")),(0,emotion_react_browser_esm.tZ)("th",null,"개점년도",(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){return handleSort("open_date")}},"sort")))),(0,emotion_react_browser_esm.tZ)("tbody",null,filteredData.map((function(store){var _store$openDurations$2,_store$openDurations$3,_store$openDurations$4;return(0,emotion_react_browser_esm.tZ)("tr",{key:store.id},(0,emotion_react_browser_esm.tZ)("td",null,(0,emotion_react_browser_esm.tZ)("input",{type:singleSelect?"radio":"checkbox",name:singleSelect?"select-store":"select-".concat(store.id),onChange:function onChange(e){return singleSelect?function handleStoreRadio(id,name){setSelectStore([{id,name}])}(store.id,store.name):function handleStoreCheck(checked,id,name){setSelectStore(checked?function(prev){return[].concat((0,toConsumableArray.Z)(prev),[{id,name}])}:selectStore.filter((function(store){return store.id!==id})))}(e.target.checked,store.id,store.name)},checked:!!selectStore.find((function(selStore){return selStore.id===store.id}))})),(0,emotion_react_browser_esm.tZ)("td",null,store.name),(0,emotion_react_browser_esm.tZ)("td",null,StoreType[store.type]),(0,emotion_react_browser_esm.tZ)("td",null,StoreStatus[store.status]),(0,emotion_react_browser_esm.tZ)("td",null,store.area_zone),(0,emotion_react_browser_esm.tZ)("td",null,null!==(_store$openDurations$2=store.openDurations[0])&&void 0!==_store$openDurations$2&&_store$openDurations$2.open_date&&dayjs_min_default()(null===(_store$openDurations$3=store.openDurations[0])||void 0===_store$openDurations$3?void 0:_store$openDurations$3.open_date).isValid()?dayjs_min_default()(null===(_store$openDurations$4=store.openDurations[0])||void 0===_store$openDurations$4?void 0:_store$openDurations$4.open_date).format("YYYY"):""))})))),(0,emotion_react_browser_esm.tZ)("button",{type:"button",onClick:function onClick(){_onClose(),setListStore(selectStore)}},"완료")))};const StorePopup_StorePopup=StorePopup;try{StorePopup.displayName="StorePopup",StorePopup.__docgenInfo={description:"",displayName:"StorePopup",props:{listStore:{defaultValue:null,description:"",name:"listStore",required:!0,type:{name:"{ id: number; name: string; }[]"}},setListStore:{defaultValue:null,description:"",name:"setListStore",required:!0,type:{name:"Dispatch<SetStateAction<{ id: number; name: string; }[]>>"}},status:{defaultValue:{value:"OPEN,PLANNED"},description:"",name:"status",required:!1,type:{name:"string"}},singleSelect:{defaultValue:null,description:"",name:"singleSelect",required:!1,type:{name:"boolean"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["component/modules/StorePopup/StorePopup.tsx#StorePopup"]={docgenInfo:StorePopup.__docgenInfo,name:"StorePopup",path:"component/modules/StorePopup/StorePopup.tsx#StorePopup"})}catch(__react_docgen_typescript_loader_error){}var _Default$parameters,_Default$parameters2,_Default$parameters2$;const StorePopup_stories={title:"Modal/StorePopup",tags:["autodocs"],args:{TotalProps:{props:""}},parameters:{storySource:{source:'import _objectSpread from "/Users/yun-eunseog/workspace/govis-renewal/node_modules/@babel/runtime/helpers/esm/objectSpread2.js";\nimport _extends from "/Users/yun-eunseog/workspace/govis-renewal/node_modules/@babel/runtime/helpers/esm/extends.js";\nimport _slicedToArray from "/Users/yun-eunseog/workspace/govis-renewal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js";\nvar _Default$parameters, _Default$parameters2, _Default$parameters2$;\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn\'t supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }\nimport React, { useEffect, useState } from \'react\';\nimport { useQuery } from \'react-query\';\nimport { css } from \'@emotion/react\';\nimport { fetchUser } from \'@ApiFarm/store\';\nimport StoryLayout from \'@ComponentFarm/modules/story_layout/StoryLayout\';\nimport { Button } from \'@ComponentFarm/atom/Button/Button\';\nimport StoreList from \'./StoreList\';\nimport StorePopup from \'./StorePopup\';\nimport { jsx as ___EmotionJSX } from "@emotion/react";\nvar meta = {\n  title: \'Modal/StorePopup\',\n  tags: [\'autodocs\'],\n  args: {\n    TotalProps: {\n      props: ""\n    }\n  },\n  parameters: {\n    docs: {\n      story: {\n        inline: true\n      },\n      // render the story in an iframe\n      canvas: {\n        sourceState: \'shown\'\n      },\n      // start with the source open\n      source: {\n        type: \'code\'\n      } // forces the raw source code (rather than the rendered JSX).\n    }\n  }\n};\n\nexport default meta;\nvar _ref = process.env.NODE_ENV === "production" ? {\n  name: "1jf67h2",\n  styles: "height:500px"\n} : {\n  name: "1eckqkn-StoryStorePopup",\n  styles: "height:500px;label:StoryStorePopup;",\n  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dW4tZXVuc2VvZy93b3Jrc3BhY2UvZ292aXMtcmVuZXdhbC9jb21wb25lbnQvbW9kdWxlcy9TdG9yZVBvcHVwL1N0b3JlUG9wdXAuc3Rvcmllcy50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBdUQ4QyIsImZpbGUiOiIvVXNlcnMveXVuLWV1bnNlb2cvd29ya3NwYWNlL2dvdmlzLXJlbmV3YWwvY29tcG9uZW50L21vZHVsZXMvU3RvcmVQb3B1cC9TdG9yZVBvcHVwLnN0b3JpZXMudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNZXRhLCBTdG9yeSB9IGZyb20gJ0BzdG9yeWJvb2svcmVhY3QnO1xuaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdyZWFjdC1xdWVyeSc7XG5pbXBvcnQgeyBjc3MgfSBmcm9tICdAZW1vdGlvbi9yZWFjdCc7XG5pbXBvcnQgeyBmZXRjaFVzZXIgfSBmcm9tICdAQXBpRmFybS9zdG9yZSc7XG5pbXBvcnQgU3RvcnlMYXlvdXQgZnJvbSAnQENvbXBvbmVudEZhcm0vbW9kdWxlcy9zdG9yeV9sYXlvdXQvU3RvcnlMYXlvdXQnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQENvbXBvbmVudEZhcm0vYXRvbS9CdXR0b24vQnV0dG9uJztcbmltcG9ydCBTdG9yZUxpc3QgZnJvbSAnLi9TdG9yZUxpc3QnO1xuaW1wb3J0IFN0b3JlUG9wdXAsIHsgU3RvcmVQb3B1cFByb3BzIH0gZnJvbSAnLi9TdG9yZVBvcHVwJztcbmNvbnN0IG1ldGE6IE1ldGEgPSB7XG4gIHRpdGxlOiAnTW9kYWwvU3RvcmVQb3B1cCcsXG4gIHRhZ3M6IFsnYXV0b2RvY3MnXSxcbiAgYXJnczoge1xuICAgIFRvdGFsUHJvcHM6IHtcbiAgICAgIHByb3BzOiBgYFxuICAgIH1cbiAgfSxcbiAgcGFyYW1ldGVyczoge1xuICAgIGRvY3M6IHtcbiAgICAgIHN0b3J5OiB7XG4gICAgICAgIGlubGluZTogdHJ1ZVxuICAgICAgfSxcbiAgICAgIC8vIHJlbmRlciB0aGUgc3RvcnkgaW4gYW4gaWZyYW1lXG4gICAgICBjYW52YXM6IHtcbiAgICAgICAgc291cmNlU3RhdGU6ICdzaG93bidcbiAgICAgIH0sXG4gICAgICAvLyBzdGFydCB3aXRoIHRoZSBzb3VyY2Ugb3BlblxuICAgICAgc291cmNlOiB7XG4gICAgICAgIHR5cGU6ICdjb2RlJ1xuICAgICAgfSAvLyBmb3JjZXMgdGhlIHJhdyBzb3VyY2UgY29kZSAocmF0aGVyIHRoYW4gdGhlIHJlbmRlcmVkIEpTWCkuXG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtZXRhO1xuaW50ZXJmYWNlIFByb3BzIGV4dGVuZHMgU3RvcmVQb3B1cFByb3BzIHtcbiAgZGFya01vZGU6IGJvb2xlYW47XG59XG5jb25zdCBTdG9yeVN0b3JlUG9wdXA6IFN0b3J5PFByb3BzPiA9IGFyZ3MgPT4ge1xuICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbGlzdFN0b3JlLCBzZXRMaXN0U3RvcmVdID0gdXNlU3RhdGU8e1xuICAgIGlkOiBudW1iZXI7XG4gICAgbmFtZTogc3RyaW5nO1xuICB9W10+KFtdKTtcbiAgY29uc3Qge1xuICAgIGRhdGFcbiAgfSA9IHVzZVF1ZXJ5PGFueSwgYW55PihbYHVzZXItZGV0YWlsYCwgJzMyNSddLCAoKSA9PiBmZXRjaFVzZXIoMzI1KSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHNldExpc3RTdG9yZShkYXRhLnN0b3JlX2xpc3QpO1xuICAgIH1cbiAgfSwgW2RhdGFdKTtcbiAgY29uc3QgaGFuZGxlckNsb3NlID0gKCkgPT4ge1xuICAgIHNldElzT3BlbihmYWxzZSk7XG4gIH07XG4gIHJldHVybiA8U3RvcnlMYXlvdXQgey4uLmFyZ3N9IGN1c3RvbUNzcz17Y3NzYFxuICAgICAgICBoZWlnaHQ6IDUwMHB4O1xuICAgICAgYH0+XG4gICAgICA8ZGl2PlxuICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJwcmltYXJ5XCIgb25DbGljaz17KCkgPT4gc2V0SXNPcGVuKHRydWUpfT5cbiAgICAgICAgICBPcGVuIFN0b3JlIE1vZGFsXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8U3RvcmVQb3B1cFxuICAgIC8vIHNpbmdsZVNlbGVjdFxuICAgIGxpc3RTdG9yZT17bGlzdFN0b3JlfSBzZXRMaXN0U3RvcmU9e3NldExpc3RTdG9yZX0gaXNPcGVuPXtpc09wZW59IG9uQ2xvc2U9e2hhbmRsZXJDbG9zZX0gLz5cbiAgICAgIDxTdG9yZUxpc3QgbGlzdFN0b3JlPXtsaXN0U3RvcmV9IHNldExpc3RTdG9yZT17c2V0TGlzdFN0b3JlfSAvPlxuICAgIDwvU3RvcnlMYXlvdXQ+O1xufTtcbmV4cG9ydCBjb25zdCBEZWZhdWx0ID0gU3RvcnlTdG9yZVBvcHVwLmJpbmQoe30pO1xuRGVmYXVsdC5wYXJhbWV0ZXJzID0ge1xuICAuLi5EZWZhdWx0LnBhcmFtZXRlcnMsXG4gIGRvY3M6IHtcbiAgICAuLi5EZWZhdWx0LnBhcmFtZXRlcnM/LmRvY3MsXG4gICAgc291cmNlOiB7XG4gICAgICBvcmlnaW5hbFNvdXJjZTogXCJhcmdzID0+IHtcXG4gIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XFxuICBjb25zdCBbbGlzdFN0b3JlLCBzZXRMaXN0U3RvcmVdID0gdXNlU3RhdGU8e1xcbiAgICBpZDogbnVtYmVyO1xcbiAgICBuYW1lOiBzdHJpbmc7XFxuICB9W10+KFtdKTtcXG4gIGNvbnN0IHtcXG4gICAgZGF0YVxcbiAgfSA9IHVzZVF1ZXJ5PGFueSwgYW55PihbYHVzZXItZGV0YWlsYCwgJzMyNSddLCAoKSA9PiBmZXRjaFVzZXIoMzI1KSk7XFxuICB1c2VFZmZlY3QoKCkgPT4ge1xcbiAgICBpZiAoZGF0YSkge1xcbiAgICAgIHNldExpc3RTdG9yZShkYXRhLnN0b3JlX2xpc3QpO1xcbiAgICB9XFxuICB9LCBbZGF0YV0pO1xcbiAgY29uc3QgaGFuZGxlckNsb3NlID0gKCkgPT4ge1xcbiAgICBzZXRJc09wZW4oZmFsc2UpO1xcbiAgfTtcXG4gIHJldHVybiA8U3RvcnlMYXlvdXQgey4uLmFyZ3N9IGN1c3RvbUNzcz17Y3NzYFxcbiAgICAgICAgaGVpZ2h0OiA1MDBweDtcXG4gICAgICBgfT5cXG4gICAgICA8ZGl2PlxcbiAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVxcXCJwcmltYXJ5XFxcIiBvbkNsaWNrPXsoKSA9PiBzZXRJc09wZW4odHJ1ZSl9PlxcbiAgICAgICAgICBPcGVuIFN0b3JlIE1vZGFsXFxuICAgICAgICA8L0J1dHRvbj5cXG4gICAgICA8L2Rpdj5cXG4gICAgICA8U3RvcmVQb3B1cFxcbiAgICAvLyBzaW5nbGVTZWxlY3RcXG4gICAgbGlzdFN0b3JlPXtsaXN0U3RvcmV9IHNldExpc3RTdG9yZT17c2V0TGlzdFN0b3JlfSBpc09wZW49e2lzT3Blbn0gb25DbG9zZT17aGFuZGxlckNsb3NlfSAvPlxcbiAgICAgIDxTdG9yZUxpc3QgbGlzdFN0b3JlPXtsaXN0U3RvcmV9IHNldExpc3RTdG9yZT17c2V0TGlzdFN0b3JlfSAvPlxcbiAgICA8L1N0b3J5TGF5b3V0PjtcXG59XCIsXG4gICAgICAuLi5EZWZhdWx0LnBhcmFtZXRlcnM/LmRvY3M/LnNvdXJjZVxuICAgIH1cbiAgfVxufTsiXX0= */",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n};\nvar StoryStorePopup = function StoryStorePopup(args) {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isOpen = _useState2[0],\n    setIsOpen = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    listStore = _useState4[0],\n    setListStore = _useState4[1];\n  var _useQuery = useQuery(["user-detail", \'325\'], function () {\n      return fetchUser(325);\n    }),\n    data = _useQuery.data;\n  useEffect(function () {\n    if (data) {\n      setListStore(data.store_list);\n    }\n  }, [data]);\n  var handlerClose = function handlerClose() {\n    setIsOpen(false);\n  };\n  return ___EmotionJSX(StoryLayout, _extends({}, args, {\n    customCss: _ref\n  }), ___EmotionJSX("div", null, ___EmotionJSX(Button, {\n    variant: "primary",\n    onClick: function onClick() {\n      return setIsOpen(true);\n    }\n  }, "Open Store Modal")), ___EmotionJSX(StorePopup\n  // singleSelect\n  , {\n    listStore: listStore,\n    setListStore: setListStore,\n    isOpen: isOpen,\n    onClose: handlerClose\n  }), ___EmotionJSX(StoreList, {\n    listStore: listStore,\n    setListStore: setListStore\n  }));\n};\nexport var Default = StoryStorePopup.bind({});\nDefault.parameters = _objectSpread(_objectSpread({}, Default.parameters), {}, {\n  docs: _objectSpread(_objectSpread({}, (_Default$parameters = Default.parameters) === null || _Default$parameters === void 0 ? void 0 : _Default$parameters.docs), {}, {\n    source: _objectSpread({\n      originalSource: "args => {\\n  const [isOpen, setIsOpen] = useState(false);\\n  const [listStore, setListStore] = useState<{\\n    id: number;\\n    name: string;\\n  }[]>([]);\\n  const {\\n    data\\n  } = useQuery<any, any>([`user-detail`, \'325\'], () => fetchUser(325));\\n  useEffect(() => {\\n    if (data) {\\n      setListStore(data.store_list);\\n    }\\n  }, [data]);\\n  const handlerClose = () => {\\n    setIsOpen(false);\\n  };\\n  return <StoryLayout {...args} customCss={css`\\n        height: 500px;\\n      `}>\\n      <div>\\n        <Button variant=\\"primary\\" onClick={() => setIsOpen(true)}>\\n          Open Store Modal\\n        </Button>\\n      </div>\\n      <StorePopup\\n    // singleSelect\\n    listStore={listStore} setListStore={setListStore} isOpen={isOpen} onClose={handlerClose} />\\n      <StoreList listStore={listStore} setListStore={setListStore} />\\n    </StoryLayout>;\\n}"\n    }, (_Default$parameters2 = Default.parameters) === null || _Default$parameters2 === void 0 ? void 0 : (_Default$parameters2$ = _Default$parameters2.docs) === null || _Default$parameters2$ === void 0 ? void 0 : _Default$parameters2$.source)\n  })\n});',locationsMap:{default:{startLoc:{col:22,line:50},endLoc:{col:1,line:89},startBody:{col:22,line:50},endBody:{col:1,line:89}}}},docs:{story:{inline:!0},canvas:{sourceState:"shown"},source:{type:"code"}}}};var _ref={name:"1jf67h2",styles:"height:500px"},Default=function StoryStorePopup(args){var _useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1],_useState3=(0,react.useState)([]),_useState4=(0,slicedToArray.Z)(_useState3,2),listStore=_useState4[0],setListStore=_useState4[1],data=(0,es.useQuery)(["user-detail","325"],(function(){return fetchUser(325)})).data;(0,react.useEffect)((function(){data&&setListStore(data.store_list)}),[data]);return(0,emotion_react_browser_esm.tZ)(StoryLayout.Z,(0,esm_extends.Z)({},args,{customCss:_ref}),(0,emotion_react_browser_esm.tZ)("div",null,(0,emotion_react_browser_esm.tZ)(Button.z,{variant:"primary",onClick:function onClick(){return setIsOpen(!0)}},"Open Store Modal")),(0,emotion_react_browser_esm.tZ)(StorePopup_StorePopup,{listStore,setListStore,isOpen,onClose:function handlerClose(){setIsOpen(!1)}}),(0,emotion_react_browser_esm.tZ)(StorePopup_StoreList,{listStore,setListStore}))}.bind({});Default.parameters=(0,objectSpread2.Z)((0,objectSpread2.Z)({},Default.parameters),{},{docs:(0,objectSpread2.Z)((0,objectSpread2.Z)({},null===(_Default$parameters=Default.parameters)||void 0===_Default$parameters?void 0:_Default$parameters.docs),{},{source:(0,objectSpread2.Z)({originalSource:"args => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [listStore, setListStore] = useState<{\n    id: number;\n    name: string;\n  }[]>([]);\n  const {\n    data\n  } = useQuery<any, any>([`user-detail`, '325'], () => fetchUser(325));\n  useEffect(() => {\n    if (data) {\n      setListStore(data.store_list);\n    }\n  }, [data]);\n  const handlerClose = () => {\n    setIsOpen(false);\n  };\n  return <StoryLayout {...args} customCss={css`\n        height: 500px;\n      `}>\n      <div>\n        <Button variant=\"primary\" onClick={() => setIsOpen(true)}>\n          Open Store Modal\n        </Button>\n      </div>\n      <StorePopup\n    // singleSelect\n    listStore={listStore} setListStore={setListStore} isOpen={isOpen} onClose={handlerClose} />\n      <StoreList listStore={listStore} setListStore={setListStore} />\n    </StoryLayout>;\n}"},null===(_Default$parameters2=Default.parameters)||void 0===_Default$parameters2||null===(_Default$parameters2$=_Default$parameters2.docs)||void 0===_Default$parameters2$?void 0:_Default$parameters2$.source)})})},"./src/mobx/store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Mz:()=>authStore,KV:()=>confirmModalStore});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),js_cookie=__webpack_require__("./node_modules/js-cookie/dist/js.cookie.mjs"),mobx_esm=__webpack_require__("./node_modules/mobx/dist/mobx.esm.js"),router=__webpack_require__("./node_modules/next/router.js"),router_default=__webpack_require__.n(router),dist=__webpack_require__("./node_modules/react-secure-storage/dist/index.js"),Home=__webpack_require__("./component/atom/icons/Home.tsx"),HeadOffice=__webpack_require__("./component/atom/icons/HeadOffice.tsx"),Franchise=__webpack_require__("./component/atom/icons/Franchise.tsx"),Homepage=__webpack_require__("./component/atom/icons/Homepage.tsx"),TotalMenu=[{depth1:"홈",group:"Home",path:"/dashboard",perm_info_idx:0},{depth1:"매출 분석",group:"HeadOffice",depth2:[{name:"매출 종합현황",path:"/sales/month-static",perm_code:"sales_stores_report",perm_info_idx:11},{name:"매장별 통계",path:"/sales/store",perm_code:"sales_stores",perm_info_idx:12},{name:"시간대별 통계",path:"/sales/time",perm_code:"sales_time",perm_info_idx:13},{name:"일별 매출",path:"/sales/daily",perm_code:"sales_day",perm_info_idx:14},{name:"월별 매출",path:"/sales/month",perm_code:"sales_month",perm_info_idx:15}]},{depth1:"제품 실적",group:"HeadOffice",depth2:[{name:"주 제품 판매 현황",path:"/product/main",perm_code:"order_menu",perm_info_idx:16},{name:"제품 그룹 현황",path:"/product/group",perm_code:"order_product",perm_info_idx:17},{name:"주문 제품 구성 현황",path:"/product/combo",perm_code:"order_menu_detail",perm_info_idx:18}]},{depth1:"제품 관리",group:"HeadOffice",path:"/product",perm_code:"product",perm_info_idx:19},{depth1:"원재료 관리",group:"HeadOffice",path:"/material",perm_code:"material",perm_info_idx:22},{depth1:"메뉴 관리",group:"HeadOffice",path:"/menu",perm_code:"menu",perm_info_idx:20},{depth1:"레시피 관리",group:"HeadOffice",path:"/product-recipes",perm_code:"recipe",perm_info_idx:21},{depth1:"매장 관리",group:"HeadOffice",depth2:[{name:"매장 관리",path:"/bo/store",perm_code:"store",perm_info_idx:24},{name:"매출 채널 관리",path:"/bo/sales-channel",perm_code:"",perm_info_idx:999},{name:"XGOPIZZA 매출 관리",path:"/bo/sales-keyin",perm_code:"sales_keyin",perm_info_idx:25}]},{depth1:"사용자 관리",group:"HeadOffice",depth2:[{name:"사용자 관리",path:"/bo/user",perm_code:"manage_user",perm_info_idx:23},{name:"사용자 등록",path:"/bo/user-add",perm_code:"manage_user_post",perm_info_idx:52},{name:"권한 그룹 관리",path:"/bo/user/permission",perm_code:"perm_group",perm_info_idx:44}]},{depth1:"자료 다운 받기",group:"HeadOffice",path:"/excel",perm_code:"report",perm_info_idx:0},{depth1:"알람 관리",group:"HeadOffice",depth2:[{name:"본사알람 관리",path:"/alarm/headoffice",perm_code:"alarm_head",perm_info_idx:47},{name:"매장알람 관리",path:"/alarm/store",perm_code:"alarm_store",perm_info_idx:48}]},{depth1:"게시판 관리",group:"Franchise",depth2:[{name:"공지사항 관리",path:"/fc/notice",perm_code:"board_notice",perm_info_idx:26},{name:"레시피 정복",path:"/fc/recipes",perm_code:"board_recipe",perm_info_idx:27},{name:"뉴스레터",path:"/fc/news",perm_code:"board_newsletter",perm_info_idx:28},{name:"우수사례&성공사례",path:"/fc/best-practices",perm_code:"board_story",perm_info_idx:30},{name:"상품 피드백",path:"/fc/feedback",perm_code:"board_product_feedback",perm_info_idx:31}]},{depth1:"이벤트 관리",group:"Franchise",depth2:[{name:"카카오톡 프로모션",path:"/fc/coupons",perm_code:"coupon_promotion",perm_info_idx:29},{name:"캘린더",path:"/fc/calendar",perm_code:"board_calendar",perm_info_idx:35}]},{depth1:"문의 관리",group:"Franchise",depth2:[{name:"건의&문의",path:"/fc/forums",perm_code:"board_qna",perm_info_idx:32},{name:"인테리어 AS",path:"/fc/interiors",perm_code:"board_interior",perm_info_idx:33},{name:"반품 문의",path:"/fc/returns",perm_code:"board_return",perm_info_idx:34}]},{depth1:"AI-FQS",group:"Franchise",depth2:[{name:"대시보드",path:"/aistt/dashboard",perm_code:"ai_fqs_dashboard",perm_info_idx:36},{name:"제품 분석",path:"/aistt/analysis",perm_code:"ai_fqs_analysis",perm_info_idx:37},{name:"데이터 검수",path:"/aistt/inspection",perm_code:"ai_fqs_Inspection",perm_info_idx:38}]},{depth1:"G-FQS",group:"Franchise",depth2:[{name:"대시보드",path:"/gobot/dashboard",perm_code:"g_fqs_dashboard",perm_info_idx:39},{name:"제품 분석",path:"/gobot/analysis",perm_code:"g_fqs_analysis",perm_info_idx:40},{name:"데이터 검수",path:"/gobot/inspection",perm_code:"g_fqs_Inspection",perm_info_idx:41}]},{depth1:"IoT 관리",group:"Franchise",depth2:[{name:"GoAir 관리 매장",path:"/iot/goair",perm_code:"iot_goair_store",perm_info_idx:42},{name:"GoAir 기기 관리",path:"/iot/goair-admin",perm_code:"iot_goair_manage",perm_info_idx:43},{name:"Goven 관리",path:"/iot/goven",perm_code:"iot_goven",perm_info_idx:0}]},{depth1:"매장 평가",group:"Franchise",depth2:[{name:"대시보드",path:"/qsc/dashboard",perm_code:"qsc_dashboard",perm_info_idx:49},{name:"매장QC 관리",path:"/qsc/store",perm_code:"qsc_store",perm_info_idx:50},{name:"체크리스트 관리",path:"/qsc/checklist",perm_code:"qsc_check",perm_info_idx:51}]},{depth1:"배너 및 프로모션 관리",group:"Homepage",depth2:[{name:"메인 배너 관리",path:"/brand-admin/main-banner",perm_code:"homepage_brand_main_banner",perm_info_idx:54},{name:"창업 배너 관리",path:"/brand-admin/fc-banner",perm_code:"homepage_startup_main_banner",perm_info_idx:56},{name:"프로모션 관리",path:"/brand-admin/promotion",perm_code:"homepage_brand_promotion",perm_info_idx:58}]},{depth1:"영상 관리",group:"Homepage",depth2:[{name:"유튜브 영상 관리",path:"/brand-admin/youtube",perm_code:"homepage_brand_main_youtube",perm_info_idx:55},{name:"광고영상 관리",path:"/brand-admin/ad",perm_code:"homepage_brand_ad_video",perm_info_idx:59}]},{depth1:"언론보도 관리",group:"Homepage",path:"/brand-admin/press",perm_code:"homepage_startup_press",perm_info_idx:57},{depth1:"창업 문의 관리",group:"Homepage",path:"/brand-admin/store-inquiry",perm_code:"homepage_startup_question_manager",perm_info_idx:60}],authStore=((0,mobx_esm.LO)({currentGroup:"Home",currentUrl:null,groupMap:{Home:{component:Home.default,menuName:"홈"},HeadOffice:{component:HeadOffice.default,menuName:"본사 관리"},Franchise:{component:Franchise.default,menuName:"프랜차이즈 관리"},Homepage:{component:Homepage.default,menuName:"홈페이지 관리"}}}),(0,mobx_esm.LO)({token:null,user_info:null,store_info:null,permissionCodes:void 0,is_staff:void 0,permissionList:null,init:function init(){try{var _String,_String2,_String3,_String4;this.token=null!==(_String=String(dist.Z.getItem("BO_AUTH_TOKEN")))&&void 0!==_String?_String:null,this.user_info=JSON.parse(String(dist.Z.getItem("BO_USER_INFO"))),this.store_info=JSON.parse(null!==(_String2=String(dist.Z.getItem("BO_USER_STORE")))&&void 0!==_String2?_String2:"null"),this.permissionList=JSON.parse(null!==(_String3=String(dist.Z.getItem("BO_PERMISSION_STORE")))&&void 0!==_String3?_String3:"null"),this.permissionCodes=JSON.parse(null!==(_String4=String(dist.Z.getItem("BO_PERM_CODE")))&&void 0!==_String4?_String4:"null")}catch(e){this.token=null,this.user_info=null,this.store_info=null,this.permissionCodes=void 0,this.permissionList=null}},login:function login(authData){if(0!==Object.keys(authData).length){var _authData$permission,_authData$permission$;this.token=String(authData.token),this.user_info=authData.user_info,this.store_info=authData.store;var permCodes=null===(_authData$permission=authData.permission)||void 0===_authData$permission||null===(_authData$permission$=_authData$permission.perm_list)||void 0===_authData$permission$?void 0:_authData$permission$.map((function(perm){return perm.perm_code}));this.permissionCodes=permCodes,dist.Z.setItem("BO_AUTH_TOKEN",String(authData.token)),dist.Z.setItem("BO_USER_INFO",JSON.stringify(authData.user_info)),authData.store&&dist.Z.setItem("BO_USER_STORE",JSON.stringify(authData.store)),dist.Z.setItem("BO_PERM_CODE",JSON.stringify(permCodes)),this.MenuGeneration()}},logOut:function logOut(){var _window,_window$location;this.token=null,this.user_info=null,this.store_info=null,this.permissionCodes=void 0,this.permissionList=null,dist.Z.removeItem("BO_AUTH_TOKEN"),dist.Z.removeItem("BO_USER_INFO"),dist.Z.removeItem("BO_USER_STORE"),dist.Z.removeItem("BO_PERMISSION_STORE"),dist.Z.removeItem("BO_PERM_CODE");var chkhost="undefined"!=typeof window?null===(_window=window)||void 0===_window||null===(_window$location=_window.location)||void 0===_window$location?void 0:_window$location.host:null;js_cookie.Z.remove("AUTH_DATA",{domain:-1!==(null==chkhost?void 0:chkhost.indexOf("localhost"))?void 0:".gopizza.kr"}),(localStorage.getItem("token")||localStorage.getItem("user_info")||localStorage.getItem("myStore"))&&localStorage.clear(),router_default().replace("/")},get isLoggedIn(){return!!this.user_info&&!!this.token},MenuGeneration:function MenuGeneration(){var _this=this,customizedMenu=TotalMenu.map((function(menu){return menu.depth2?(0,objectSpread2.Z)((0,objectSpread2.Z)({},menu),{},{depth2:menu.depth2.filter((function(item){var _this$permissionCodes;return null===(_this$permissionCodes=_this.permissionCodes)||void 0===_this$permissionCodes?void 0:_this$permissionCodes.includes(item.perm_code)}))}):menu})),iconMenus=(customizedMenu=customizedMenu.filter((function(menu){var _this$permissionCodes2,_menu$depth2$length,_menu$depth;return!menu.depth2&&(!menu.perm_code||(null===(_this$permissionCodes2=_this.permissionCodes)||void 0===_this$permissionCodes2?void 0:_this$permissionCodes2.includes(menu.perm_code)))||(null!==(_menu$depth2$length=null===(_menu$depth=menu.depth2)||void 0===_menu$depth?void 0:_menu$depth.length)&&void 0!==_menu$depth2$length?_menu$depth2$length:0)>0}))).map((function(item){return item.group})).filter((function(group,index,self){return self.indexOf(group)===index}));this.permissionList={iconMenus,menus:customizedMenu},dist.Z.setItem("BO_PERMISSION_STORE",JSON.stringify({iconMenus,menus:customizedMenu}))}})),confirmModalStore=(0,mobx_esm.LO)({isOpen:!1,title:"",content:null,onFormSubmit:function onFormSubmit(){},onCancel:function onCancel(){this.isOpen=!1},submitButtonText:"확인",cancelButtonText:"취소",onCancle:null,showCloseButton:!1,showCancelButton:!0,showButtons:!0,openModal:function openModal(options){this.isOpen=!0,Object.assign(this,options)},closeModal:function closeModal(){this.isOpen=!1}});(0,mobx_esm.LO)({isEdit:!1})},"?9157":()=>{},"?c969":()=>{}}]);